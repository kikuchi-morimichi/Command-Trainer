<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command Trainer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="page-header">
    <div class="page-header__left-items">
        <h1 class="page-header__title">Command Trainer〈Beta Version〉</h1>
    </div>
    <div class="page-header__right-items">
      <div class="button-group">
        <div class="tooltip-container">
          <label for="customProblemUpload" class="button">My問題を追加</label>
          <input type="file" id="customProblemUpload" accept=".json" style="display: none;">
          
          <div id="jsonFormatTooltip" class="tooltip">
            <div class="tooltip__content">
              <strong>読み込むJSONファイルの形式:</strong>
              <pre><code>{
  "new-command-set": {
    "name": "新しいコマンド編",
    "problems": [
      {
        "id": 1,
        "question": "問題文をここに書きます。",
        "answers": ["command1", "alias_command"],
        "explanation": "解説文をここに書きます。(任意)",
        "output": "実行結果の想定出力を書きます。(任意)"
      }
    ]
  }
}</code></pre>
              <p class="tooltip__note">
                - ルートはオブジェクトです。<br>
                - <code>"new-command-set"</code>の部分は、他の問題セットと重複しないキーにしてください。<br>
                - 各問題の<code>id</code>, <code>question</code>, <code>answers</code>は必須です。
              </p>
            </div>
          </div>
        </div>

        <button id="resetCustomProblemsBtn" class="button">My問題を削除</button>
      </div>
      <select id="themeSelect" class="theme-select">
        <option value="default">デフォルトテーマ</option>
        <option value="ubuntu">Ubuntu風テーマ</option>
        <option value="light">ライトテーマ</option>
        <option value="powershell">PowerShell風テーマ</option>
      </select>
    </div>
  </header>

  <div class="container">
    <div class="main-content">
      <aside class="sidebar card">
        <h3 class="card__title">問題セット</h3>
        <div class="card__body" id="problem-selector-list">
        </div>
      </aside>
      
      <div class="resizer" id="resizer"></div>
      
      <div class="main-column">
        <div class="main-column__grid">
            <aside class="card problem-card">
              <h3 class="card__title">
                <span>問題</span>
                <div class="card__title-actions">
                  <label for="bookmarkCheck" class="bookmark-label">
                    <input type="checkbox" id="bookmarkCheck">
                    苦手チェック
                  </label>
                </div>
              </h3>
              <div class="card__body">
                <div id="problem" class="problem-text">読み込み中...</div>
                <div id="solutionDisplay" class="solution-display" style="display: none;"></div>
                <div class="button-group">
                  <button id="prevBtn" class="button">前へ</button>
                  <button id="nextBtn" class="button">次へ</button>
                  <button id="showAnsBtn" class="button">答えを見る</button>
                  <button id="resetBtn" class="button">リセット</button>
                </div>
              </div>
            </aside>

            <section class="terminal" aria-label="practice terminal">
              <div class="terminal__header">
                <span class="terminal__dot terminal__dot--red"></span>
                <span class="terminal__dot terminal__dot--yellow"></span>
                <span class="terminal__dot terminal__dot--green"></span>
                <span class="terminal__app-name">bash</span>
              </div>
              <div id="screen" class="terminal__screen" role="log" aria-live="polite"></div>
            </section>
        </div>

        <div class="card problem-navigation-card">
            <h3 class="card__title">
                <span>問題一覧</span>
                <div id="progress-indicator" class="progress-indicator">
                    <span id="progress-text">進捗: 0 / 0</span>
                    <div class="progress-bar-container">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                </div>
            </h3>
            <div class="card__body">
                <div id="problem-navigation-list" class="problem-nav-list">
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="page-footer">
    <p>&copy; 2025 Command Trainer. Created by kikkun.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
